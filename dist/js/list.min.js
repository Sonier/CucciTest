"use strict";

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function ajax(url, fnWin, fnFaild) {
  //1. 创建一个XMLHttpRequest对象
  var xhr = window.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject('Microsoft.XMLHTTP'); //2. 与服务器建立连接（open)

  xhr.open('get', url, true); // 3. 向服务器发送请求

  xhr.send(); // 4. 等待服务器响应

  xhr.onreadystatechange = function () {
    if (xhr.readyState === 4) {
      if (xhr.status === 200) {
        if (fnWin instanceof Function) {
          fnWin(xhr.responseText);
        }
      } else {
        if (fnFaild instanceof Function) {
          fnFaild();
        }
      }
    }
  };
} // 商品列表：


var List = /*#__PURE__*/function () {
  function List() {
    _classCallCheck(this, List);

    this.list = document.querySelector(".list");
    this.listShop = document.querySelector(".list-Shop");
    this.load();
  }

  _createClass(List, [{
    key: "load",
    value: function load() {
      var _this = this;

      ajax("../static/goods.json", function (res) {
        // console.log(res)
        _this.res = JSON.parse(res); // console.log(this.res)
        // console.log(this.res[0].length)
        // console.log(this.res[0])

        _this.display();
      });
    }
  }, {
    key: "display",
    value: function display() {
      var str = "";

      for (var i = 0; i < this.res[0].length; i++) {
        str += "<li>\n            <div class=\"shopping\">\n                <p class=\"id\">".concat(this.res[0][i].goodsId, "</p>\n                <img src=\"").concat(this.res[0][i].img, "\" alt=\"\">\n                <p>").concat(this.res[0][i].title, "</p>\n                <p class=\"price\">").concat(this.res[0][i].price, "</p>\n                <a href=\"\" class=\"bring\">").concat(this.res[0][i].buy, "<i class=\"arr\"></i></a>\n            </div>\n            </li>");
      }

      this.listShop.innerHTML = str;
    }
  }]);

  return List;
}();

new List(); // 获取信息：

var Message = function Message() {
  _classCallCheck(this, Message);

  this.buy = document.querySelectorAll(".price");
  console.log(this.buy); // console.log(1)
};

new Message();